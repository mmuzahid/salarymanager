<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en" th:replace="fragments/header :: head"></head>
<body>
  	<div class="container">
		<h1><a href="/employee/">My Employee List</a></h1>	
		<h3>
			<span th:if="${employee.id}">Edit Employee</span>
			<span th:unless="${employee.id}">Add Employee</span>
		</h3>
		<form method="post" action="/employee/">

			<input type="hidden" th:field="*{employee.id}" />
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />


			<div class="form-group col-md-6">
				<label for="employeeName">Name</label>
				<input type="text" id="employeeName" class="form-control" placeholder="Type name between 5 to 50 characters"  th:field="*{employee.name}" />
				<span th:if="${#fields.hasErrors('employee.name')}" th:errors="*{employee.name}" class="text-danger"></span>
			</div>

			<div class="form-group col-md-6">
				<label for="employeeAddress">Address</label>
				<input type="text" id="employeeAddress" class="form-control" placeholder="Type address between 5 to 50 characters"  th:field="*{employee.address}" />
				<span th:if="${#fields.hasErrors('employee.address')}" th:errors="*{employee.address}" class="text-danger"></span>
			</div>

			<div class="form-group col-md-6">
				<label for="employeeMobile">Mobile</label>
				<input type="text" id="employeeMobile" class="form-control" placeholder="Type mobile between 5 to 50 characters"  th:field="*{employee.mobile}" />
				<span th:if="${#fields.hasErrors('employee.mobile')}" th:errors="*{employee.mobile}" class="text-danger"></span>
			</div>

			<div class="form-group col-md-6">
				<label for="employeeGrades">Grade</label>
				<select th:field="*{employee.grade}">
				    <option th:each="grade : *{grades}" th:value="${grade.id}" th:text="${grade.name}"></option>
				</select>
				<span th:if="${#fields.hasErrors('employee.grade')}" th:errors="*{employee.grade}" class="text-danger"></span>
			</div>
			
			
			<input type="hidden" th:field="*{employee.account.id}" />
			
			<div class="form-group col-md-6">
				<label for="employeeBanks">Bank</label>
				<select th:field="*{employee.account.bank}">
				    <option th:each="bank : *{banks}" th:value="${bank.id}" th:text="${bank.name}"></option>
				</select>
				<span th:if="${#fields.hasErrors('employee.account.bank')}" th:errors="*{employee.account.bank}" class="text-danger"></span>
			</div>
			
			<div class="form-group col-md-6">
				<label for="employeeBranchs">Branch</label>
				<select th:field="*{employee.account.branch}">
				    <option th:each="branch : *{branches}" th:value="${branch.id}" th:text="${branch.name}"></option>
				</select>
				<span th:if="${#fields.hasErrors('employee.account.branch')}" th:errors="*{employee.account.branch}" class="text-danger"></span>
			</div>
			
			
			<div class="form-group col-md-6">
				<label for="employeeAccountTypes">AccountType</label>
				<select th:field="*{employee.account.accountType}">
				    <option th:each="accountType : *{accountTypes}" th:value="${accountType.id}" th:text="${accountType.name}"></option>
				</select>
				<span th:if="${#fields.hasErrors('employee.account.accountType')}" th:errors="*{employee.account.accountType}" class="text-danger"></span>
			</div>
			
			<div class="form-group col-md-6">
				<label for="employeeAccountName">Account Name</label>
				<input type="text" id="employeeAccountName" class="form-control" placeholder="Type name between 5 to 50 characters"  th:field="*{employee.account.accountName}" />
				<span th:if="${#fields.hasErrors('employee.account.accountName')}" th:errors="*{employee.account.accountName}" class="text-danger"></span>
			</div>

			<div class="form-group col-md-6">				
				<button type="submit" class="btn btn-primary">Save</button>	
				<button type="button" onclick="window.location.href = '/employee/';"  class="btn btn-outline-dark">Go Home</button>
			</div>
				
		</form>
	</div>

	<script type="text/javascript">
		jQuery('#employeeDatePicker').datetimepicker({
			format: 'Y-m-d H:i',
			inline: false,
			lang: 'en'
		});
		
		
		$('#grades').select2({
			  placeholder: 'Type to Select Grades',
			  allowClear: true
		});
	</script>

</body>
</html>